<ion-content>
  <header class="mainHeader">
    <div class="back-buttons">
      <button class="goback" (click)="goBack()">&#8249;</button>
    </div>
    <div class="logo-container">
      <img class="logoimg" src="assets/images/blogo.png" width="50" height="50" />
    </div>
    <div class="placeholderHeader">
      <button class="liked-open-btn" (click)="goToLikedClasses()">
        <img class="timerIMG2" src="assets/images/heartG.png">
      </button>
      <div class="questionMark questionClass">
        <a routerLink="/timer"><img class="timerIMG" src="assets/images/timer.png"></a>
      </div>
    </div> 
  </header>

  <div id="yogaPage">
    <!-- Segmented Control -->
    <div class="segmented-control">
      <button
        class="segment"
        [class.active]="selectedSegment === 'move'"
        (click)="selectSegment('move')">
        <div>Flow</div>
      </button>

      <button
        class="segment"
        [class.active]="selectedSegment === 'slowdown'"
        (click)="selectSegment('slowdown')">
        <div    *ngIf="!isPortuguese" >Gentle</div>
        <div   *ngIf="isPortuguese" >Suave</div>
      </button>

      <button
        class="segment"
        [class.active]="selectedSegment === 'meditate'"
        (click)="selectSegment('meditate')">
        <div>Mindfulness</div>
      </button>
    </div>
    <div class="filters">
    <!-- Keyword Filter (single word) -->
    <div class="keyword-filter">
      <ion-item lines="none">
        <ion-input
          [value]="searchTerm"
          (ionInput)="onSearchInput($event)"
          (keydown.space)="$event.preventDefault()"
          inputmode="text"
          autocapitalize="off"
          autocorrect="off"
          spellcheck="false"
          maxlength="24"
          [placeholder]="isPortuguese ? 'Buscar palavra...' : 'Search a word...'"
        ></ion-input>
        <ion-buttons slot="end" *ngIf="searchTerm">
          <ion-button fill="clear" (click)="clearSearch()">
            <ion-icon name="close-circle"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>
    </div>

    <!-- Duration Filter --> 
    <div class="duration-filter">
      <select id="durationSelect" [(ngModel)]="selectedFilter" (change)="filterVideos()">
        <option value="duration"  *ngIf="!isPortuguese">Duration</option>
        <option value="duration"  *ngIf="isPortuguese">Duração</option>
        <option *ngFor="let f of filters" [value]="f">{{ f }}</option>
      </select>
    </div>
    </div>
    <!-- Segment Content -->
    <div class="segment-content">
      <div *ngIf="filteredVideos.length > 0" class="video-list">
        <p class="section-subtitle">
          <!-- Meditate -->
          <span *ngIf="selectedSegment === 'meditate' && !isPortuguese">
            Guided sessions to relax and focus
          </span>
          <span *ngIf="selectedSegment === 'meditate' && isPortuguese">
            Aulas guiadas para relaxar e focar
          </span>

          <!-- Move -->
          <span *ngIf="selectedSegment === 'move' && !isPortuguese">
            Move your body to energize your day
          </span>
          <span *ngIf="selectedSegment === 'move' && isPortuguese">
            Mexa seu corpo para energizar o dia
          </span>

          <!-- Slow Down -->
          <span *ngIf="selectedSegment === 'slowdown' && !isPortuguese">
            Slow down with gentle movements
          </span>
          <span *ngIf="selectedSegment === 'slowdown' && isPortuguese">
            Acalme-se com movimentos suaves
          </span>
        </p>

        <div
          *ngFor="let video of filteredVideos"
          class="video-card"
          [class.locked]="!video.isFree && !isMemberActive()"
          (click)="onVideoClick(video)"
        > <div>
          <img [src]="video.thumbnail" class="video-thumb" />
          </div>

          <div class="video-info">
            <h3>
              {{ video.title }}
              <span *ngIf="video.isFree && !isMemberActive()" class="free-icon"> FREE</span>
            </h3>
            <p class="video-subtitle">{{ video.duration }} min</p>
          </div>

          <div class="play-button">&#9658;</div>
          <div class="watched-badge" *ngIf="isWatched(video.id)">✓</div>
        </div>

      </div>

      <div *ngIf="filteredVideos.length === 0" class="no-videos">
        <p    *ngIf="!isPortuguese" >No videos found for this category</p>
        <p  *ngIf="isPortuguese" >Nenhum vídeo encontrado para esta categoria</p>
      </div>
    </div>
  </div>

  <!-- Footer (language-aware) -->
  <footer id="yogaFooter"    *ngIf="!isPortuguese" >
    <div class="navbar">
      <a class="navIcons" routerLink="/breathwork"><i class="fa fa-home"></i>Home</a>
      <a class="navIcons" routerLink="/home"><i class="fa fa-fire"></i>Breathwork</a>
      <a class="navIcons"><i class="fa fa-sun-o active"></i>Yoga</a>
      <a class="navIcons" routerLink="/bpr"><i class="fa fa-line-chart"></i>Results</a>
      <a class="navIcons" routerLink="/profile"><i class="fa fa-user"></i>Profile</a>
    </div>
  </footer>

  <footer id="yogaFooterBR"  *ngIf="isPortuguese" >
    <div class="navbar">
      <a class="navIcons" routerLink="/breathwork"><i class="fa fa-home"></i>Home</a>
      <a class="navIcons" routerLink="/home"><i class="fa fa-fire"></i>Respiração</a>
      <a class="navIcons"><i class="fa fa-sun-o active"></i>Yoga</a>
      <a class="navIcons" routerLink="/bpr"><i class="fa fa-line-chart"></i>Resultados</a>
      <a class="navIcons" routerLink="/profile"><i class="fa fa-user"></i>Perfil</a>
    </div>
  </footer>
  <!-- Splash screen shown while app loads -->
  <div *ngIf="showWebSplash" class="web-splash-screen">
    <div class="loader"></div>
  </div>
</ion-content>
