<ion-content>
  <header class="mainHeader">
    <div class="back-buttons">
      <button class="goback" (click)="goBack()">&#8249;</button>
    </div>
    <div class="logo-container">
      <img class="logoimg" src="assets/images/blogo.png" width="50" height="50" />
    </div>
    <div class="placeholderHeader"></div>
  </header>

  <div id="yogaPage">
    <!-- Segmented Control -->
    <div class="segmented-control">
      <button
        class="segment"
        [class.active]="selectedSegment === 'move'"
        (click)="selectSegment('move')">
        <div class="english" *ngIf="!isPortuguese">Move</div>
        <div class="portuguese" *ngIf="isPortuguese">Mexa-se</div>
      </button>

      <button
        class="segment"
        [class.active]="selectedSegment === 'slowdown'"
        (click)="selectSegment('slowdown')">
        <div class="english" *ngIf="!isPortuguese">Slow</div>
        <div class="portuguese" *ngIf="isPortuguese">Acalme-se</div>
      </button>

      <button
        class="segment"
        [class.active]="selectedSegment === 'meditate'"
        (click)="selectSegment('meditate')">
        <div class="english" *ngIf="!isPortuguese">Meditate</div>
        <div class="portuguese" *ngIf="isPortuguese">Medite</div>
      </button>
    </div>
    <div class="filters">
    <!-- Keyword Filter (single word) -->
    <div class="keyword-filter">
      <ion-item lines="none">
        <ion-input
          [value]="searchTerm"
          (ionInput)="onSearchInput($event)"
          (keydown.space)="$event.preventDefault()"
          inputmode="text"
          autocapitalize="off"
          autocorrect="off"
          spellcheck="false"
          maxlength="24"
          [placeholder]="isPortuguese ? 'Buscar palavra...' : 'Search a word...'"
        ></ion-input>
        <ion-buttons slot="end" *ngIf="searchTerm">
          <ion-button fill="clear" (click)="clearSearch()">
            <ion-icon name="close-circle"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>
    </div>

    <!-- Duration Filter -->
    <div class="duration-filter">
      <select id="durationSelect" [(ngModel)]="selectedFilter" (change)="filterVideos()">
        <option *ngFor="let f of filters" [value]="f">{{ f }}</option>
      </select>
    </div>
    </div>
    <!-- Segment Content -->
    <div class="segment-content">
      <div *ngIf="filteredVideos.length > 0" class="video-list">
        <p class="section-subtitle">
          <!-- Meditate -->
          <span *ngIf="selectedSegment === 'meditate' && !isPortuguese" class="english">
            Guided meditations to relax and focus
          </span>
          <span *ngIf="selectedSegment === 'meditate' && isPortuguese" class="portuguese">
            Meditações guiadas para relaxar e focar
          </span>

          <!-- Move -->
          <span *ngIf="selectedSegment === 'move' && !isPortuguese" class="english">
            Move your body to energize your day
          </span>
          <span *ngIf="selectedSegment === 'move' && isPortuguese" class="portuguese">
            Mexa seu corpo para energizar o dia
          </span>

          <!-- Slow Down -->
          <span *ngIf="selectedSegment === 'slowdown' && !isPortuguese" class="english">
            Slow down with gentle movements
          </span>
          <span *ngIf="selectedSegment === 'slowdown' && isPortuguese" class="portuguese">
            Acalme-se com movimentos suaves
          </span>
        </p>

        <div *ngFor="let video of filteredVideos" class="video-card" (click)="onVideoClick(video)">
          <img [src]="video.thumbnail" class="video-thumb" />
          <div class="video-info">
            <h3>{{ video.title }}</h3>
            <p class="video-subtitle">{{ video.duration }} min</p>
          </div>
          <div class="play-button">&#9658;</div>
        </div>
      </div>

      <div *ngIf="filteredVideos.length === 0" class="no-videos">
        <p class="english" *ngIf="!isPortuguese">No videos found for this category</p>
        <p class="portuguese" *ngIf="isPortuguese">Nenhum vídeo encontrado para esta categoria</p>
      </div>
    </div>
  </div>

  <!-- Footer (language-aware) -->
  <footer id="yogaFooter" class="english" *ngIf="!isPortuguese">
    <div class="navbar">
      <a class="navIcons" routerLink="/breathwork"><i class="fa fa-home"></i>Home</a>
      <a class="navIcons" routerLink="/home"><i class="fa fa-fire"></i>Breathwork</a>
      <a class="navIcons"><i class="fa fa-sun-o active"></i>Yoga</a>
      <a class="navIcons" routerLink="/bpr"><i class="fa fa-line-chart"></i>Results</a>
      <a class="navIcons" routerLink="/profile"><i class="fa fa-user"></i>Profile</a>
    </div>
  </footer>

  <footer id="yogaFooterBR" class="portuguese" *ngIf="isPortuguese">
    <div class="navbar">
      <a class="navIcons" routerLink="/breathwork"><i class="fa fa-home"></i>Home</a>
      <a class="navIcons" routerLink="/home"><i class="fa fa-fire"></i>Respiração</a>
      <a class="navIcons"><i class="fa fa-sun-o active"></i>Yoga</a>
      <a class="navIcons" routerLink="/bpr"><i class="fa fa-line-chart"></i>Resultados</a>
      <a class="navIcons" routerLink="/profile"><i class="fa fa-user"></i>Perfil</a>
    </div>
  </footer>
</ion-content>
